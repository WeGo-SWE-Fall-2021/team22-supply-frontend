<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<title>Register</title>
<style>
	body{
		text-align: center;
		position:absolute;
	}


</style>
	</head>






	<body>
		<form id="registration">
			<h2>Register</h2>
			Username
			<input type="text" id="username"><br>
			Password:
			<input type="password" id="password"  onkeyup="check()"><br>
			Retype Password:
			<input type="password" id="retypedPassword" onkeyup="check()"> <span id='message'></span>
			<br>
			First Name:
			<input type="text" id="fname"><br>
			Last Name:
			<input type="text" id="lname"><br>
			Address:
			<input type="text" id="address"><br>
			Date of Birth:
			<input type="date" id="dob"><br>
			Email Address:
			<input type="text" id="email"><br>
			Phone Number:
			<input type="text" id="phoneNumber"><br>

            Fleet Manager ID:
            <input type="text" id="fleetManagerID"><br>
			Dock Number:
			<input type="text" id="dockNumber"><br>
			Dock Address:
			<input type=text" id="dockAddress"><br>



            <button onclick="sendRegistration()">Submit Registration Info</button>
		</form>


    <script>
        function sendRegistration()
        {
            var username = document.getElementById("username").value;
            var fname = document.getElementById("fname").value;
            var lname = document.getElementById("lname").value;
            var address = document.getElementById("address").value;
            var password = document.getElementById("password").value;
            var fleetManagerID = document.getElementById("fleetManagerID").value;

						let data = {'username': username,
							'fname': fname,
							'lname': lname,
							'address': address,
							'password': password,
							'DOB': dob,
							'email': email,
							'phoneNumber': phoneNumber,
							'dockNumber': dockNumber,
							'dockAddress': dockAddress,
							'fleetManagerID' : fleetManagerID}

            fetch('C:\\Users\\Morga\\PycharmProjects\\Supply_FrontEnd\\register.html', {
                method:"POST",
								headers: {
									'Content-Type': 'application/json'
								},
                body: JSON.stringify(data)
							})
						.then(function(response) {
							console.log(response.status);
							if (response.status == 201)
							{
								window.location.assign("./register.html");
							}
						});
        }
        var check = function() {
			if (document.getElementById('password').value != document.getElementById('retypedPassword').value) {
				document.getElementById('message').style.color = 'red';
				document.getElementById('message').innerHTML = 'not matching';
			} else {
				document.getElementById('message').style.color = 'green';
				document.getElementById('message').innerHTML = 'matching';
				document.getElementById('message').innerHTML = '';
			}
		}
    </script>
	</body>
</html>
